{"code":"!function(e){function t(t){for(var n,s,c=t[0],o=t[1],u=t[2],m=0,d=[];m<c.length;m++)s=c[m],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(i&&i(t);d.length;)d.shift()();return l.push.apply(l,u||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(n=!1)}n&&(l.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={0:0},l=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"\";var c=window.webpackJsonp=window.webpackJsonp||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var i=o;l.push([352,1]),a()}({352:function(e,t,a){\"use strict\";a.r(t);a(142),a(344);var n=a(0),r=a.n(n),l=a(140),s=a.n(l),c=a(355),o=a(354),u=a(357),i=a(356),m=a(141);class d extends r.a.Component{render(){return r.a.createElement(\"div\",null,\"Showing all avalible products\")}}var p=a(101);function h({issue:e}){return r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,e.id),r.a.createElement(\"td\",null,e.name),r.a.createElement(\"td\",null,\"$\"+e.price),r.a.createElement(\"td\",null,e.category),r.a.createElement(\"td\",null,r.a.createElement(\"a\",{href:e.image,target:\"_blank\",rel:\"noopener noreferrer\"},\"view\")),r.a.createElement(\"td\",null,r.a.createElement(p.a,{to:`/edit/${e.id}`},\"Edit\")))}function E({issues:e}){const t=e.map(e=>r.a.createElement(h,{key:e.id,issue:e}));return r.a.createElement(\"table\",{className:\"bordered-table\",border:\"2\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Product ID\"),r.a.createElement(\"th\",null,\"Product Name\"),r.a.createElement(\"th\",null,\"Price\"),r.a.createElement(\"th\",null,\"Category\"),r.a.createElement(\"th\",null,\"Image\"),r.a.createElement(\"th\",null,\"Action\"))),r.a.createElement(\"tbody\",null,t))}a(2);class g extends r.a.Component{constructor(){super(),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){e.preventDefault();const t=document.forms.issueAdd,a={category:t.category.value,price:t.price.value.replace(\"$\",\"\"),name:t.name.value,image:t.image.value},{createIssue:n}=this.props;n(a),t.category.value=\"Shirts\",t.price.value=\"$\",t.name.value=\"\",t.image.value=\"\"}render(){return r.a.createElement(\"form\",{name:\"issueAdd\",onSubmit:this.handleSubmit},\"Category:\",r.a.createElement(\"br\",null),r.a.createElement(\"select\",{name:\"category\"},r.a.createElement(\"option\",{value:\"Shirts\"},\"Shirts\"),r.a.createElement(\"option\",{value:\"Jeans\"},\"Jeans\"),r.a.createElement(\"option\",{value:\"Jackets\"},\"Jackets\"),r.a.createElement(\"option\",{value:\"Sweaters\"},\"Sweaters\"),r.a.createElement(\"option\",{value:\"Accessories\"},\"Accessories\")),r.a.createElement(\"br\",null),\"Price Per Unit:\",r.a.createElement(\"br\",null),r.a.createElement(\"input\",{type:\"text\",name:\"price\",placeholder:\"$\"}),r.a.createElement(\"br\",null),\"Product Name:\",r.a.createElement(\"br\",null),r.a.createElement(\"input\",{type:\"text\",name:\"name\",placeholder:\"Product Name\"}),r.a.createElement(\"br\",null),\"Image URL:\",r.a.createElement(\"br\",null),r.a.createElement(\"input\",{type:\"text\",name:\"image\",placeholder:\"Image\"}),r.a.createElement(\"br\",null),r.a.createElement(\"button\",{type:\"submit\"},\"Add Product\"))}}const f=new RegExp(\"^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d\");function b(e,t){return f.test(t)?new Date(t):t}async function y(e,t={}){try{const a=await fetch(\"http://localhost:3000/graphql\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({query:e,variables:t})}),n=await a.text(),r=JSON.parse(n,b);if(r.errors){const e=r.errors[0];if(\"BAD_USER_INPUT\"===e.extensions.code){const t=e.extensions.exception.errors.join(\"\\n \");alert(`${e.message}:\\n ${t}`)}else alert(`${e.extensions.code}: ${e.message}`)}return r.data}catch(e){return alert(`Error in sending data to server: ${e.message}`),null}}class v extends r.a.Component{constructor(){super(),this.state={issues:[]},this.createIssue=this.createIssue.bind(this)}componentDidMount(){this.loadData()}async loadData(){const e=await y(\"query {\\n    issueList {\\n    id name category price image\\n}\\n}\");e&&this.setState({issues:e.issueList})}async createIssue(e){await y(\"mutation issueAdd($issue: IssueInputs!) {\\n  issueAdd(issue: $issue) {\\n    id,\\n        }\\n    }\",{issue:e})&&this.loadData(),this.loadData()}render(){const{issues:e}=this.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h1\",null,\"My company Inventory\"),r.a.createElement(d,null),r.a.createElement(\"hr\",null),r.a.createElement(E,{issues:e}),r.a.createElement(\"hr\",null),r.a.createElement(\"h2\",null,\"Add a new product to inventory\"),r.a.createElement(g,{createIssue:this.createIssue}))}}function S(){return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,\"This is a placeholder for the Issue Report\"))}class w extends r.a.Component{constructor(){super(),this.state={issue:{}},this.onChange=this.onChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.loadData()}componentDidUpdate(){const{match:{params:{id:e}}}=prevProps,{match:{params:{id:t}}}=this.props;t!==e&&this.loadData()}onChange(e){const{name:t,value:a}=e.target;this.setState(e=>({issue:{...e.issue,[t]:a}}))}handleSubmit(e){e.preventDefault();const{issue:t}=this.state;console.log(t)}async loadData(){const e=await y(\"query {\\n    issue(id: 1) {\\n    id name category price image\\n}\\n}\");if(e){const{issue:t}=e;t.name=t.name?t.name.toString():\"\",t.category=null!=t.category?t.category.toString():\"\",t.price=null!=t.price?t.price:\"\",t.image=null!=t.image?t.image:\"\",this.setState({issue:t})}else this.setState({issue:{}})}render(){const{issue:{id:e}}=this.state,{match:{params:{id:t}}}=this.props;if(null==e)return null!=t?r.a.createElement(\"h3\",null,`Issue with ID ${t} not found.`):null;const{issue:{name:a,category:n}}=this.state,{issue:{price:l,image:s}}=this.state;return r.a.createElement(\"form\",{onSubmit:this.handleSubmit},r.a.createElement(\"h3\",null,`Editing issue: ${e}`),r.a.createElement(\"table\",null,r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Name:\"),r.a.createElement(\"td\",null,a.toString())),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Category:\"),r.a.createElement(\"td\",null,r.a.createElement(\"select\",{name:\"category\",value:n,onChange:this.onChange},r.a.createElement(\"option\",{value:\"Shirts\"},\"Shirts\"),r.a.createElement(\"option\",{value:\"Jeans\"},\"Jeans\"),r.a.createElement(\"option\",{value:\"Jackets\"},\"Jackets\"),r.a.createElement(\"option\",{value:\"Sweaters\"},\"Sweaters\"),r.a.createElement(\"option\",{value:\"Accessories\"},\"Accessories\")))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Price:\"),r.a.createElement(\"td\",null,r.a.createElement(\"input\",{name:\"price\",value:l,onChange:this.onChange}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Image:\"),r.a.createElement(\"td\",null,r.a.createElement(\"input\",{name:\"image\",value:s,onChange:this.onChange}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null),r.a.createElement(\"td\",null,r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))),r.a.createElement(p.a,{to:`/edit/${e-1}`},\"Prev\"),\" | \",r.a.createElement(p.a,{to:`/edit/${e+1}`},\"Next\"))}}const x=()=>r.a.createElement(\"h1\",null,\"Page Not Found\");function P(){return r.a.createElement(u.a,null,r.a.createElement(i.a,{exact:!0,from:\"/\",to:\"/issues\"}),r.a.createElement(m.a,{path:\"/issues\",component:v}),r.a.createElement(m.a,{path:\"/edit/:id\",component:w}),r.a.createElement(m.a,{path:\"/report\",component:S}),r.a.createElement(m.a,{component:x}))}function I(){return r.a.createElement(\"nav\",null,r.a.createElement(o.a,{exact:!0,to:\"/\"},\"Home\"),\" | \",r.a.createElement(o.a,{to:\"/issues\"},\"Issue List\"),\" | \",r.a.createElement(o.a,{to:\"/report\"},\"Report\"))}const C=r.a.createElement(c.a,null,r.a.createElement((function(){return r.a.createElement(\"div\",null,r.a.createElement(I,null),r.a.createElement(P,null))}),null));s.a.render(C,document.getElementById(\"contents\"))}});","extractedComments":[]}